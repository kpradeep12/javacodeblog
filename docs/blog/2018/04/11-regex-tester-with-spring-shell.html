<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">
    <meta name="google-site-verification" content="zkTSlJd8qxF4ZHbWWxyG0Prqnevef8dGSLkZeHFRW2Y" />
    
    <title>Regex Tester With Spring Shell</title>

    <!-- Bootstrap Core CSS -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../../css/clean-blog.css" rel="stylesheet">
    <link href="../../../css/3-portfolio-theme.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <!-- link rel="shortcut icon" href="../../../favicon.ico" -->
  </head>
  <body>
   

        <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="../../../index.html">Tech Stack Java</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="../../../index.html">Home</a>
            </li>
            <!--<li class="nav-item">
                <a class="nav-link" href="../../../about.html">About</a>
            </li>-->
            <li class="nav-item">
                <a class="nav-link" href="/archive.html">Archive</a>
            </li>
            <!--<li class="nav-item">
                <a class="nav-link" href="../../../contact.html">Contact</a>
            </li>-->
          </ul>
        </div>
      </div>
    </nav>
    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('../../../img/home-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="site-heading">
                        <h1>Tech Stack Java</h1>
                        <hr class="small">
                        <span class="subheading">Sharing my Java experiments</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="mt-4">Regex Tester With Spring Shell</h1>
                    <p class="mt-0 small">Posted on April 11, 2018</p>
                    <hr>
                    <!-- Preview Image -->
                    <img class="img-fluid rounded post-image" src="../../../img/banners/blog-banner-regex-tester-with-spring-shell.png" alt="">


                    <div id="preamble"> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Spring framework is the suite of many projects, using which we can develop wide variety of applications. These applications may need user interaction, the most common way is to have a web interface. Not all applications need to have a web interface, a simple command line interface can be suffice for some type of applications. Spring Shell is a simple project which provides the infrastructure to build command line interface applications easily and quickly.</p> 
  </div> 
  <div class="paragraph"> 
   <p>In this article I will show the steps needed to create a Spring shell project which tests the regex string provided at the command line. Easier way to create spring project is using <a href="https://start.spring.io/">start.spring.io</a> Go to the site and select you choice of configuration with ‘Spring Shell’ as dependency. See below screenshot for the reference.</p> 
  </div> 
  <div class="paragraph text-center"> 
   <p><span class="image"><img src="http://www.techstackjava.com/img/posts/Post-Regex-tester-spring-starter.png" alt="Regex tester spring starter" width="550" height="300"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>Click on ‘Generate Project’ which will download the pre-configured spring project. Unzip and import it into your favorite java editor.</p> 
  </div> 
  <div class="paragraph text-center"> 
   <p><span class="image"><img src="http://www.techstackjava.com/img/posts/Post-Regex-tester-spring-shell-pom.png" alt="Regex tester spring shell" width="570" height="300"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>Now we have empty spring shell project ready.</p> 
  </div> 
 </div> 
</div> 
<div class="sect3"> 
 <h4 id="create_command_for_regex_tester">Create command for Regex tester</h4> 
 <div class="paragraph"> 
  <p>Creating a command is as simple as creating a class and method in Spring shell. Lets first create a class ‘RegexTester.java’ and annotate it will @ShellComponent.All command related classes need to be annotated with ShellComponent, this is a stereotype annotation which helps spring to configure component for the command interface. Add a method in this class and annotate with @ShellMethod. See code below;</p> 
 </div> 
 <div class="listingblock"> 
  <div class="content"> 
   <pre class="prettyprint highlight"><code class="language-java" data-lang="java">package com.regex.regextester;

import org.springframework.shell.standard.ShellComponent;
import org.springframework.shell.standard.ShellMethod;
import java.util.regex.Pattern;

@ShellComponent
public class RegexTester {

    @ShellMethod("Regex tester")
    public void regex(String pattern, String text){
        Pattern.compile(pattern)
                .matcher(text)
                .results()
                .forEach(mr -&gt; {
                    System.out.printf("Match: %s\n",
                            text.substring(0,mr.start())+
                                    "'"+
                                    mr.group()+
                                    "'"+
                                    text.substring(mr.end(),text.length()));
                });
    }
}</code></pre> 
  </div> 
 </div> 
 <div class="paragraph"> 
  <p>A method annotated with @ShellMethod becomes the command. In the example above, ‘regex’ becomes the command name and it expects two parameters. First parameter is the regex pattern and second one is the text on which regex pattern will be tested.</p> 
 </div> 
</div> 
<div class="sect3"> 
 <h4 id="build_project">Build project</h4> 
 <div class="paragraph"> 
  <p>I used Maven to build the application. In the project folder execute below command to execute maven build;</p> 
 </div> 
 <div class="listingblock"> 
  <div class="content"> 
   <pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">./mvnw clean install -DskipTests</code></pre> 
  </div> 
 </div> 
 <div class="paragraph"> 
  <p>Maven will download the required dependencies and builds the project. Packaged jar will be created in target folder.</p> 
 </div> 
</div> 
<div class="sect3"> 
 <h4 id="run_regex_tester">Run Regex tester</h4> 
 <div class="paragraph"> 
  <p>Maven build zipped all the required dependencies into regex-tester-0.0.1-SNAPSHOT.jar it even contains Spring Shell in it. Lets run this jar with java command. In the command prompt, go to the project folder and execute below command.</p> 
 </div> 
 <div class="listingblock"> 
  <div class="content"> 
   <pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">java -jar target/regex-tester-0.0.1-SNAPSHOT.jar</code></pre> 
  </div> 
 </div> 
 <div class="paragraph"> 
  <p>You should see a prompt saying ‘shell:&gt;’ As I mentioned earlier, spring shell provides the required infrastructure for the command line interface so this prompt is provided by the spring shell and it is ready to take the commands. lets execute some commands on the shell prompt.</p> 
 </div> 
 <div class="paragraph text-center"> 
  <p><span class="image"><img src="http://www.techstackjava.com/img/posts/Post-Regex-tester-regex-cli.png" alt="Regex tester cli" width="500" height="140"></span></p> 
 </div> 
 <div class="paragraph"> 
  <p>I passed ‘ab’ as the pattern and ‘abcabc’ as the test string to regex command. Spring will internally execute regex method and passes provided arguments to it. The output of the method will be printed in the console. We can continue to test regex command multiple times with different strings and it can be used as regex utility in local.</p> 
 </div> 
 <div class="paragraph"> 
  <p>For the same ShellController class we can add multiple methods and use them as different commands. After completing the regex testing, type ‘exit’ to quit from the shell. We have completed spring shell project with simple regex tester. You can continue to explore and learn more on Spring shell at this <a href="https://docs.spring.io/spring-shell/docs/2.0.1.BUILD-SNAPSHOT/reference/htmlsingle/#_what_is_spring_shell">link</a>. Happy Coding!</p> 
 </div> 
</div>
                </div>
            </div>
        </div>
    </article>

    <hr>

		<div id="push"></div>
    
    <!-- Footer -->
    <footer class="bg-graphite">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-sm-6">
                    <div class="card" style="background-color: transparent;color: #fff!important;">
                        <div class="card-body">
                            <h5 class="card-title">Tags</h5>
                            <p class="card-text">
                                
                                    <a href="../../../tags/gof.html" class="badge badge-primary footer-tag-background">
                                        gof
                                    </a>
                                
                                    <a href="../../../tags/queue.html" class="badge badge-primary footer-tag-background">
                                        queue
                                    </a>
                                
                                    <a href="../../../tags/time.html" class="badge badge-primary footer-tag-background">
                                        time
                                    </a>
                                
                                    <a href="../../../tags/producer.html" class="badge badge-primary footer-tag-background">
                                        producer
                                    </a>
                                
                                    <a href="../../../tags/blockedqueue.html" class="badge badge-primary footer-tag-background">
                                        blockedqueue
                                    </a>
                                
                                    <a href="../../../tags/regex.html" class="badge badge-primary footer-tag-background">
                                        regex
                                    </a>
                                
                                    <a href="../../../tags/comparator.html" class="badge badge-primary footer-tag-background">
                                        comparator
                                    </a>
                                
                                    <a href="../../../tags/java10.html" class="badge badge-primary footer-tag-background">
                                        java10
                                    </a>
                                
                                    <a href="../../../tags/thread.html" class="badge badge-primary footer-tag-background">
                                        thread
                                    </a>
                                
                                    <a href="../../../tags/localdate.html" class="badge badge-primary footer-tag-background">
                                        localdate
                                    </a>
                                
                                    <a href="../../../tags/streams.html" class="badge badge-primary footer-tag-background">
                                        streams
                                    </a>
                                
                                    <a href="../../../tags/var.html" class="badge badge-primary footer-tag-background">
                                        var
                                    </a>
                                
                                    <a href="../../../tags/maven.html" class="badge badge-primary footer-tag-background">
                                        maven
                                    </a>
                                
                                    <a href="../../../tags/read.html" class="badge badge-primary footer-tag-background">
                                        read
                                    </a>
                                
                                    <a href="../../../tags/jshell.html" class="badge badge-primary footer-tag-background">
                                        jshell
                                    </a>
                                
                                    <a href="../../../tags/concurrentmodificationexception.html" class="badge badge-primary footer-tag-background">
                                        concurrentmodificationexception
                                    </a>
                                
                                    <a href="../../../tags/consumer.html" class="badge badge-primary footer-tag-background">
                                        consumer
                                    </a>
                                
                                    <a href="../../../tags/write.html" class="badge badge-primary footer-tag-background">
                                        write
                                    </a>
                                
                                    <a href="../../../tags/multithreading.html" class="badge badge-primary footer-tag-background">
                                        multithreading
                                    </a>
                                
                                    <a href="../../../tags/create.html" class="badge badge-primary footer-tag-background">
                                        create
                                    </a>
                                
                                    <a href="../../../tags/executor.html" class="badge badge-primary footer-tag-background">
                                        executor
                                    </a>
                                
                                    <a href="../../../tags/collections.html" class="badge badge-primary footer-tag-background">
                                        collections
                                    </a>
                                
                                    <a href="../../../tags/stream.html" class="badge badge-primary footer-tag-background">
                                        stream
                                    </a>
                                
                                    <a href="../../../tags/git.html" class="badge badge-primary footer-tag-background">
                                        git
                                    </a>
                                
                                    <a href="../../../tags/file.html" class="badge badge-primary footer-tag-background">
                                        file
                                    </a>
                                
                                    <a href="../../../tags/java.html" class="badge badge-primary footer-tag-background">
                                        java
                                    </a>
                                
                                    <a href="../../../tags/random.html" class="badge badge-primary footer-tag-background">
                                        random
                                    </a>
                                
                                    <a href="../../../tags/spring.html" class="badge badge-primary footer-tag-background">
                                        spring
                                    </a>
                                
                                    <a href="../../../tags/design pattern.html" class="badge badge-primary footer-tag-background">
                                        design pattern
                                    </a>
                                
                                    <a href="../../../tags/delete.html" class="badge badge-primary footer-tag-background">
                                        delete
                                    </a>
                                
                                    <a href="../../../tags/priorityqueue.html" class="badge badge-primary footer-tag-background">
                                        priorityqueue
                                    </a>
                                
                                    <a href="../../../tags/infinite.html" class="badge badge-primary footer-tag-background">
                                        infinite
                                    </a>
                                
                                    <a href="../../../tags/functional.html" class="badge badge-primary footer-tag-background">
                                        functional
                                    </a>
                                
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="card" style="background-color: transparent;color: #fff!important;">
                        <div class="card-body">
                            <h5 class="card-title">Recent Posts</h5>
                            <p class="card-text">
                                <ul class="list-unstyled">
                                    
                                        <li>
                                            <a href="../../../blog/2018/04/22-strategy-design-pattern.html" class="footer-link">Strategy design pattern</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/04/18-introduction-to-java-time.html" class="footer-link">Introduction to java.time</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/04/15-how-concurrentModificationException-is-thrown.html" class="footer-link">How ConcurrentModificationException is thrown?</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/04/11-regex-tester-with-spring-shell.html" class="footer-link">Regex Tester With Spring Shell</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/04/8-infinite-streams.html" class="footer-link">Infinite streams</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/04/3-recipes-for-optional.html" class="footer-link">Recipes for Optional</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/03/28-functions-cheat-sheet.html" class="footer-link">Functions cheat sheet</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/03/24-reduce-stream-to-single-value.html" class="footer-link">Reduce stream to single value</a>
                                        </li>
                                    
                                        <li>
                                            <a href="../../../blog/2018/03/21-quick-way-to-create-list-set-and-map.html" class="footer-link">Quick way to create List, Set and Map</a>
                                        </li>
                                    
                                </ul>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="card" style="background-color: transparent;color: #fff!important;">
                        <div class="card-body">
                            <h5 class="card-title">Author</h5>
                            <!--<img class="card-img-top" width="90" height="90" style="width:40%" src="../../../img/author-pic.jpeg" alt="Pradeep Kundarapu">-->
                            <p class="card-text my-2">Pradeep Kundarapu</p>
                            
                            <ul class="list-inline text-center list-unstyled float-left">
                                <li class="list-inline-item">
                                    <a href="https://twitter.com/k_pradeep4j">
                                        <span class="fa-stack fa-lg">
                                            <i class="fa fa-circle fa-stack-2x"></i>
                                            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                        </span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--<div class="col">
                    
                    <p class="copyright text-muted">Baked with <a href="http://jbake.org">JBake v2.6.1</a></p>
                </div>-->
                
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="../../../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../../js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript 
    <script src="../../../js/clean-blog.min.js"></script>
    -->
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115619272-2"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-115619272-2');
    </script>

  </body>
</html>