<!DOCTYPE html>
<html lang="en">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">
    <meta name="google-site-verification" content="zkTSlJd8qxF4ZHbWWxyG0Prqnevef8dGSLkZeHFRW2Y" />
    
    <title>Using comparing methods in Comparator Interface</title>

    <!-- Bootstrap Core CSS -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../../css/clean-blog.css" rel="stylesheet">
    <link href="../../../css/3-portfolio-theme.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <!-- link rel="shortcut icon" href="../../../favicon.ico" -->
  </head>
  <body>
   

        <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="../../../index.html">Tech Stack Java</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="../../../index.html">Home</a>
            </li>
            <!--<li class="nav-item">
                <a class="nav-link" href="../../../about.html">About</a>
            </li>-->
            <li class="nav-item">
                <a class="nav-link" href="/archive.html">Archive</a>
            </li>
            <!--<li class="nav-item">
                <a class="nav-link" href="../../../contact.html">Contact</a>
            </li>-->
          </ul>
        </div>
      </div>
    </nav>
    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('../../../img/home-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="site-heading">
                        <h1>Tech Stack Java</h1>
                        <hr class="small">
                        <span class="subheading">Sharing my Java experiments</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="mt-4">Using comparing methods in Comparator Interface</h1>
                    <p class="mt-0 small">Posted on February 21, 2018</p>
                    <hr>
                    <!-- Preview Image -->
                    <img class="img-fluid rounded post-image" src="../../../img/" alt="">


                    <div id="preamble"> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Java 8 introduced some new methods in Comparator interface. I was going through this interface to check all available methods in it and did some code experiments to understand some of them and thought comparing and thenComparing methods are very interesting. There are multiple comparing methods which can be used in various situations. I listed all comparing methods here:</p> 
  </div> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="prettyprint highlight"><code class="language-java" data-lang="java">//static comparing methods
static &lt;T,U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing​(Function&lt;? super T,? extends U&gt; keyExtractor)
static &lt;T,U&gt; Comparator&lt;T&gt; comparing​(Function&lt;? super T,? extends U&gt; keyExtractor, Comparator&lt;? super U&gt; keyComparator)
static &lt;T&gt; Comparator&lt;T&gt; comparingDouble​(ToDoubleFunction&lt;? super T&gt; keyExtractor)
static &lt;T&gt; Comparator&lt;T&gt; comparingInt​(ToIntFunction&lt;? super T&gt; keyExtractor)
static &lt;T&gt; Comparator&lt;T&gt; comparingLong​(ToLongFunction&lt;? super T&gt; keyExtractor)

//default thenComparing methods
default Comparator&lt;T&gt; thenComparing​(Comparator&lt;? super T&gt; other)
default &lt;U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; thenComparing​(Function&lt;? super T,? extends U&gt; keyExtractor)
default &lt;U&gt; Comparator&lt;T&gt; thenComparing​(Function&lt;? super T,? extends U&gt; keyExtractor, Comparator&lt;? super U&gt; keyComparator)
default Comparator&lt;T&gt; thenComparingDouble​(ToDoubleFunction&lt;? super T&gt; keyExtractor)
default Comparator&lt;T&gt; thenComparingInt​(ToIntFunction&lt;? super T&gt; keyExtractor)
default Comparator&lt;T&gt; thenComparingLong​(ToLongFunction&lt;? super T&gt; keyExtractor)</code></pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>If you can understand how these comparing methods work then you can generate a comparator object with out implementing this interface. I will go through some examples so it will be easier to understand. Lets create a Student class and add couple of students to a List.</p> 
  </div> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="prettyprint highlight"><code class="language-java" data-lang="java">public class Student{
    private int id;
    private String grade;
    private String firstName;

    public Student(int id,String grade, String firstName) {
        this.id = id;
        this.grade = grade;
        this.firstName = firstName;
    }

    public int getId() {
        return id;
    }

    public String getGrade() {
        return grade;
    }

    public String getFirstName() {
        return firstName;
    }

    @Override
    public String toString() {
        return "[" + id + "-" + grade +
                "-" + firstName +
                ']';
    }
    public static void main(String args[]){
        List&lt;Student&gt; students = Arrays.asList(new Student(4,"B","Sandra"),
                new Student(2,"A","Cary"),
                new Student(5,"A","Ferne"),
                new Student(3,"B","Donnell"),
                new Student(1,"A","Ria"));
        //sort students
        students.sort((s1, s2) -&gt; Integer.compare(s1.getId(), s2.getId()));

        //display list of students
        students.forEach(System.out::println);
    }
}</code></pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>In line number 37 we are passing Comparator implementation to sort method. In next section we will see how to generate it with out implementing Comparator interface.</p> 
  </div> 
 </div> 
</div> 
<div class="sect3"> 
 <h4 id="generate_comparator_using_static_comparing_methods">Generate comparator using static comparing methods</h4> 
 <div class="paragraph"> 
  <p>In line number 37 of above example we implemented comparator which compares integers. Here we wrote basic compare logic but instead why can’t we just pass the field on which we want to compare? This is where static comparing methods will come into picture. Static comparing methods need key extractor so comparator can be generated based on that. If we need to compare integers then use below static method to generate comparator.</p> 
 </div> 
 <div class="paragraph"> 
  <p>static &lt;T&gt; Comparator&lt;T&gt; comparingInt​(ToIntFunction&lt;? super T&gt; keyExtractor)</p> 
 </div> 
 <div class="paragraph"> 
  <p>To use this method we need to pass ToIntFunction. This is a functional interface and it has single method ‘applyAsInt’, See below for the declaration of this method:</p> 
 </div> 
 <div class="paragraph"> 
  <p>int applyAsInt​(T value)</p> 
 </div> 
 <div class="paragraph"> 
  <p>If we want to sort based on id field of the student, which is an int then we can update line number 37 to:</p> 
 </div> 
 <div class="paragraph"> 
  <p>students.sort(Comparator.comparingInts) → s.getId();</p> 
 </div> 
 <div class="paragraph"> 
  <p>We are passing implementation of ToIntFunction to comparingInt method. comparingInt will get int value from ToIntFunction and creates comparator based on that. We can even use method reference to reduce the code size.</p> 
 </div> 
 <div class="paragraph"> 
  <p>students.sort(Comparator.comparingInt(Student::getId));</p> 
 </div> 
 <div class="paragraph"> 
  <p>Basic thing to understand is, instead of ‘how’ we mentioned ‘what’ by using comparingInt method. Like wise there are other overloaded methods to generate comparator for long and double values. What is the case if we have objects? then we can use below method.</p> 
 </div> 
 <div class="paragraph"> 
  <p>static &lt;T,U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing​(Function&lt;? super T,? extends U&gt; keyExtractor)</p> 
 </div> 
 <div class="paragraph"> 
  <p>This method takes a function so we can return any object and Comparator will use natural sorting on it if it implements Comparable interface else it will give compilation error. I can use this method to sort students based on there first names. First name is a String and String implements Comparable so this method works fine.</p> 
 </div> 
 <div class="paragraph"> 
  <p>students.sort(Comparator.comparing(Student::getFirstName));</p> 
 </div> 
 <div class="paragraph"> 
  <p>There is another comparing method available to generate customized comparator which take comparator as second parameter.</p> 
 </div> 
 <div class="paragraph"> 
  <p>static &lt;T,U&gt; Comparator&lt;T&gt; comparing​(Function&lt;? super T,? extends U&gt; keyExtractor, Comparator&lt;? super U&gt; keyComparator)</p> 
 </div> 
 <div class="paragraph"> 
  <p>Using this method we can pass custom comparator. In below example we passed case insensitive string comparator.</p> 
 </div> 
 <div class="paragraph"> 
  <p>students.sort(Comparator.comparing(Student::getFirstName,String.CASE_INSENSITIVE_ORDER));</p> 
 </div> 
 <div class="paragraph"> 
  <p>With this we covered all static comparing methods. Instead of writing our own comparing logic we just need to pass key extractors, so these methods will generate comparator for us.</p> 
 </div> 
</div> 
<div class="sect3"> 
 <h4 id="using_thencomparing_methods">Using thenComparing methods</h4> 
 <div class="paragraph"> 
  <p>If we want to do sort on multiple fields then we can use ‘thenComparing’ methods. These methods will return comparator, so we can chain multiple thenComparing methods to sort multiple fields. It is like applying sorting on multiple columns in a table. For example we can do sort on grade and then on first names of the students like below.</p> 
 </div> 
 <div class="listingblock"> 
  <div class="content"> 
   <pre class="prettyprint highlight"><code class="language-java" data-lang="java">students.sort(Comparator.comparing(Student::getGrade)
              .thenComparing(Student::getFirstName));</code></pre> 
  </div> 
 </div> 
 <div class="paragraph"> 
  <p>thenComparing comes with same set of overloaded methods as comparing methods so we can pass functions to extract keys.</p> 
 </div> 
</div> 
<div class="sect3"> 
 <h4 id="conclusion">Conclusion</h4> 
 <div class="paragraph"> 
  <p>With all the above examples hope you understood the usage of these methods. Please comment if anything is missing or need more explanation.</p> 
 </div> 
</div>
                </div>
            </div>
        </div>
    </article>

    <hr>

		<div id="push"></div>
    
    <!-- Footer -->
    <footer class="bg-graphite">
        <div class="container">
            <div class="row">
                <div class="col">
                    <ul class="list-inline text-center list-unstyled">
                        <li class="list-inline-item">
                            <a href="https://twitter.com/k_pradeep4j">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Baked with <a href="http://jbake.org">JBake v2.6.1</a></p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="../../../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../../js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript 
    <script src="../../../js/clean-blog.min.js"></script>
    -->
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  </body>
</html>